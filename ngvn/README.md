# Jira Clone with Nx

This project is generated with [Nx](https://nx.dev)

## Environment Setup

This project needs **MongoDB** and **Redis** running locally. One quick way of doing so is to use **Docker**. Pull the official images for both, setup your `docker port` and run both.

- MongoDB Port: 27017
- Redis Port: 6379

You would also need **NodeJS** installed.

## Local Development

1. `npm install` to install all dependencies
2. Run your Docker containers
3. `npm run start:api` to run the API (written with [NestJS](https://nestjs.com))
4. `npm run start:ng` to run the Angular application (Upcoming)

## File Structure

Since the project is created by **Nx**, the file structure closely follows **Nx** structure.

```
ngvn (root)
|____apps
|____libs
|____mongo-migrations
|____package.json
|____angular.json
|____nx.json
|____schema.gql
|____...
```

#### Root

Root directory contains mostly configuration files for the project such as: `package.json`, `tsconfig.json`, `tslint.json`, `nx.json`, and `angular.json`. The two most important files that
you'd probably touch are `nx.json` and `angular.json`.

- `nx.json`: This is the **Nx Workspace** configuration files where it contains information about all the `libs` and `apps` in the workspace along with their internal dependencies (not npm packages)
- `angular.json`: Since this is an **Angular** + **Nest** application so of course there is an `angular.json`. If you're not familiar with **Angular**, `angular.json` is the configuration file for
  `Angular CLI`. In a **Nx Workspace**, `Angular CLI` (as well as `Nest CLI`) will be patched by the `Nx CLI`. So all your commands will be run with `nx` instead of `ng`.

There is also a `schema.gql` file which is generated by `@nestjs/graphql` based on the `Resolvers` defined in the `api`.

#### `apps`

This folder houses all current `apps` within the `workspace`. There are 3 apps at the moment:

- `api`: **Nest** application with **GraphQL** and **MongoDB**
- `jira-clone`: **Angular** application
- `jira-clone-e2e`: **Angular** E2E testing application powered by **Cypress**

#### `libs`

This folder houses all related `libs` to be used for `apps` (either by a single specific app or shared within apps). Three main top-level libs are:

- `api`: All `libs` to be used by the `api` app. This lib houses all **Feature Modules** with related **Models**, **Repositories**, **Services**, and **Resolvers**. It also has **Security** related
  stuffs like: **Auth** and **Permissions**.
- `background`: All `libs` to be used by the `api` application for **Background Tasks** (powered by [node-bull](https://optimalbits.github.io/bull/)
  and wrapped by [@nestjs/bull](https://github.com/nestjs/bull)).
- `shared`: All `libs` to be used by both the `api` and `jira-clone` applications.

#### `mongo-migrations`

This folder is to house migration scripts for the project's database. [migrate-mongo](https://www.npmjs.com/package/migrate-mongo) is the npm package used to power the migrations.

## Tech Stack

- [Nx](https://nx.dev)
- [Angular](https://angular.io)
- [NestJS](https://nestjs.com)
- [MongoDB](https://www.mongodb.com/)
- [Redis](https://redis.io/)
